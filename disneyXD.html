<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Giveth TV - Watch</title>
    <link rel="stylesheet" href="player.css" />
    <link
        rel="shortcut icon"
        href="https://i.pinimg.com/736x/ea/91/87/ea9187918597ea29f65a1e45bbaeeddc.jpg"
        type="image/x-icon"
    />
</head>
<body>
    <header>
        <button onclick="goBack()">â¬… Back</button>
        <h1 id="channel-name">Loading...</h1>
    </header>
        <!-- Responsive HLS Player - 100% width, 16:9 aspect ratio -->
        <div style="position: relative; width: 100%; margin: 0 auto;">
        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
            <iframe src="https://www.livereacting.com/tools/hls-player-embed?url=https%3A%2F%2Ffl3.moveonjoy.com%2FDISNEY_XD%2Findex.m3u8" 
                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
                    frameborder="0" allowfullscreen>
            </iframe>
        </div>
        </div>

    <section class="channel-info">
        <img id="channel-logo" src="" alt="Logo" />
        <div>
            <h2 id="channel-title">Channel Info</h2>
            <p id="channel-id">Channel ID: </p>
        </div>
    </section>

    <script>
        function goBack() {
            window.location.href = "index.html";
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadChannelData();
        });

        function loadChannelData() {
            const channelJson = localStorage.getItem('selectedChannel');
            console.log("Retrieved channel JSON:", channelJson);

            if (!channelJson) {
                alert('No channel selected.');
                goBack();
                return;
            }

            const channel = JSON.parse(channelJson);
            console.log("Parsed channel data:", channel);

            // Populate header and channel info
            document.getElementById('channel-name').textContent = channel.name;
            document.getElementById('channel-title').textContent = channel.name;
            document.getElementById('channel-id').textContent = `Channel ID: ${channel.id}`;
            document.getElementById('channel-logo').src = channel.logo;

    
        }
    </script>
</body>
</html>