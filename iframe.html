<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Giveth TV - Live Stream</title>
  <link
    rel="shortcut icon"
    href="https://i.pinimg.com/736x/ea/91/87/ea9187918597ea29f65a1e45bbaeeddc.jpg"
    type="image/x-icon"
  />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden; /* Prevent scrollbars */
      display: flex;
      flex-direction: column;
    }
    header {
      background-color: #333;
      color: white;
      padding: 10px 20px;
      display: flex;
      align-items: center;
      gap: 15px;
      z-index: 10; /* Ensure header is above iframe if any overlap */
    }
    header button {
      background-color: #555;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    header button:hover {
      background-color: #777;
    }
    header h1 {
      margin: 0;
      font-size: 20px;
    }
    .iframe-container {
      flex-grow: 1; /* Make the iframe container take up remaining space */
      position: relative; /* For absolute positioning of iframe */
      width: 100%;
      height: calc(100% - 60px); /* Adjust based on header height, roughly */
      /* You might need to fine-tune this height or use JS for dynamic calculation */
    }
    iframe {
      width: 100%;
      height: 100%;
      border: none; /* Remove default iframe border */
      display: block; /* Remove extra space below iframe */
    }
    /* Styles for channel info if you still want to display it */
    .channel-info {
        display: flex;
        align-items: center;
        padding: 15px 20px;
        background-color: #f0f0f0;
        border-top: 1px solid #ccc;
    }
    .channel-info img {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        margin-right: 15px;
        object-fit: cover;
    }
    .channel-info h2 {
        margin: 0;
        font-size: 18px;
        color: #333;
    }
    .channel-info p {
        margin: 5px 0 0;
        font-size: 14px;
        color: #666;
    }

  </style>
</head>
<body>
  <header>
    <button onclick="window.location.href='index.html'">â¬… Back</button>
    <h1 id="channel-name">Restream Live Stream</h1>
  </header>

  <section class="iframe-container">
    <iframe
    id="iframe"
      src=""
      allow="autoplay; fullscreen; picture-in-picture"
      allowfullscreen
      frameborder="0"
    ></iframe>
  </section>

  <section class="channel-info">
    <img id="channel-logo" src="https://i.pinimg.com/736x/ea/91/87/ea9187918597ea29f65a1e45bbaeeddc.jpg" alt="Giveth TV Logo" />
    <div>
      <h2 id="channel-title">Giveth TV Live</h2>
      <p id="channel-id">Live Stream via Restream.io</p>
    </div>
  </section>

  <script>
    function goBack() {
      window.history.back();
    }

            document.addEventListener('DOMContentLoaded', () => {
            loadChannelData();
        });

        function loadChannelData() {
            const channelJson = localStorage.getItem('selectedChannel');
            console.log("Retrieved channel JSON:", channelJson);

            if (!channelJson) {
                alert('No channel selected.');
                goBack();
                return;
            }

            const channel = JSON.parse(channelJson);
            console.log("Parsed channel data:", channel);

            // Populate header and channel info
            document.getElementById('channel-name').textContent = channel.name;
            document.getElementById('channel-title').textContent = channel.name;
            document.getElementById('channel-id').textContent = `Channel ID: ${channel.id}`;
            document.getElementById('channel-logo').src = channel.logo;
            document.getElementById("iframe").src = channel.url

    
        }

    // You can update channel name dynamically if needed, similar to your original player.js
    // For this simple iframe, we've hardcoded the title in the header.
  </script>
</body>
</html>